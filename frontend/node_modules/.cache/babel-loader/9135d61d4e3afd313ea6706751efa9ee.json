{"remainingRequest":"/home/weiglas/git/jeraflix/frontend/node_modules/babel-loader/lib/index.js!/home/weiglas/git/jeraflix/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/weiglas/git/jeraflix/frontend/src/common/api.service.js","dependencies":[{"path":"/home/weiglas/git/jeraflix/frontend/src/common/api.service.js","mtime":1610597616546},{"path":"/home/weiglas/git/jeraflix/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/weiglas/git/jeraflix/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/weiglas/git/jeraflix/frontend/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3dlaWdsYXMvZ2l0L2plcmFmbGl4L2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IHsgQ1NSRl9UT0tFTiB9IGZyb20gIi4vY3NyZl90b2tlbi5qcyI7CgpmdW5jdGlvbiBnZXRKU09OKF94KSB7CiAgcmV0dXJuIF9nZXRKU09OLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmZ1bmN0aW9uIF9nZXRKU09OKCkgewogIF9nZXRKU09OID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHJlc3BvbnNlKSB7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PSAyMDQpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsICcnKTsKCiAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHJlc3BvbnNlLmpzb24oKSk7CgogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2dldEpTT04uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKfQoKZnVuY3Rpb24gYXBpU2VydmljZShlbmRwb2ludCwgbWV0aG9kLCBkYXRhKSB7CiAgdmFyIGNvbmZpZyA9IHsKICAgIG1ldGhvZDogbWV0aG9kIHx8ICJHRVQiLAogICAgYm9keTogZGF0YSAhPT0gdW5kZWZpbmVkID8gSlNPTi5zdHJpbmdpZnkoZGF0YSkgOiBudWxsLAogICAgaGVhZGVyczogewogICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICAnWC1DU1JGVE9LRU4nOiBDU1JGX1RPS0VOCiAgICB9CiAgfTsKICByZXR1cm4gZmV0Y2goZW5kcG9pbnQsIGNvbmZpZykudGhlbihnZXRKU09OKS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgIHJldHVybiBjb25zb2xlLmxvZyhlcnJvcik7CiAgfSk7Cn0KCmV4cG9ydCB7IGFwaVNlcnZpY2UgfTs="},{"version":3,"sources":["/home/weiglas/git/jeraflix/frontend/src/common/api.service.js"],"names":["CSRF_TOKEN","getJSON","response","status","json","apiService","endpoint","method","data","config","body","undefined","JSON","stringify","headers","fetch","then","catch","error","console","log"],"mappings":";;;AAAA,SAASA,UAAT,QAA2B,iBAA3B;;SAEeC,O;;;;;qEAAf,iBAAuBC,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA,kBACQA,QAAQ,CAACC,MAAT,IAAmB,GAD3B;AAAA;AAAA;AAAA;;AAAA,6CACuC,EADvC;;AAAA;AAAA,6CAEWD,QAAQ,CAACE,IAAT,EAFX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAKA,SAASC,UAAT,CAAoBC,QAApB,EAA8BC,MAA9B,EAAsCC,IAAtC,EAA4C;AACxC,MAAMC,MAAM,GAAG;AACXF,IAAAA,MAAM,EAAEA,MAAM,IAAI,KADP;AAEXG,IAAAA,IAAI,EAAEF,IAAI,KAAKG,SAAT,GAAqBC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAArB,GAA4C,IAFvC;AAGXM,IAAAA,OAAO,EAAE;AACL,sBAAgB,kBADX;AAEL,qBAAed;AAFV;AAHE,GAAf;AAQA,SAAOe,KAAK,CAACT,QAAD,EAAWG,MAAX,CAAL,CACEO,IADF,CACOf,OADP,EAEEgB,KAFF,CAEQ,UAAAC,KAAK;AAAA,WAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;AAAA,GAFb,CAAP;AAGH;;AAED,SAASb,UAAT","sourcesContent":["import { CSRF_TOKEN } from \"./csrf_token.js\"\n\nasync function getJSON(response) {\n    if (response.status == 204) return '';\n    return response.json();\n}\n\nfunction apiService(endpoint, method, data) {\n    const config = {\n        method: method || \"GET\",\n        body: data !== undefined ? JSON.stringify(data) : null,\n        headers: {\n            'content-type': 'application/json',\n            'X-CSRFTOKEN': CSRF_TOKEN\n        }\n    }\n    return fetch(endpoint, config)\n            .then(getJSON)\n            .catch(error => console.log(error))\n}\n\nexport { apiService };"]}]}